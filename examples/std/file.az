
struct file
{
    handle: u64;

    fn drop(ref self: file)
    {
        fclose(self@.handle);
    }

    fn write(ref self: file, str: char[])
    {
        fputs(self@.handle, str);
    }
}

fn open_file(filename: char[], mode: char[]) -> file
{
    return file(fopen(filename, mode));
}
