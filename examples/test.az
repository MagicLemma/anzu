
struct unique_int
{
    val: i64;

    fn drop(self: &unique_int)
    {
        println("calling drop");
    }

    fn copy(self: &unique_int) -> unique_int
    {
        println("calling copy");
        return unique_int(self->val);
    }

    fn assign(self: &unique_int, other: &unique_int)
    {
        println("calling assign");
        other->val = self->val;
    }
}

{
    x := unique_int(5);
    y := x;
    println(x.val);
    println(y.val);

    println("done");
}

println("after");