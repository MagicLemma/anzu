import std/string.az;

fn replace_a(c: &char)
{
    if (*c == 'a') {
        *c = 'X';
    }
}

fn transform_string(s: &string, func: (&char) -> null)
{
    span := s->get();
    for c in span {
        func(c);
    }
}

str := new_string();
str.set("this is a temporary string for testing");
transform_string(&str, replace_a);

"HERE WE ARE";